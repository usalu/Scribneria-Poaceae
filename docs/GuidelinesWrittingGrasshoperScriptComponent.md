#6 guidelines on writing more efficient Grasshopper script components

Grasshopper itself is already a powerful way of automating processes and workflows. And you can get very far just with the default components components of Grasshopper. But often you find yourself repeating the same components after each other. There is a way to cluster them but often it seems to be quite overkill to create a cluster and save it as a user object. And especially if you want to get additional features and you know that Rhino supports them natively but you can't find them inside Grasshopper, that's the point where scripts get really handy. The possibility to target the [RhinoCommon] framework directly inside Grasshopper is very powerful. 

Here are my six guidelines which I found out to be very useful:

- **Include as much functions as possible for exactly one purpose.** The goal of your script component is to combine a bunch of features which do not exist that way but are often used in exactly that order. You want to create a shortcut and reduce the complexity of your definitions. This helps to build later definitions and share your code with others. Now the biggest shortcut would be to write one script component for the whole project. Why use Grasshopper then? The reason why Grasshopper is so effective is that reusability of components for different scenarios. The key is to create a shortcut for only one purpose. And it would be a waste to calculate something and not provide it as an output. So try to give all possible information about what you just calculated even if you don't need it yet. Most of the time many information can be put in the format of the structure itself. Data trees are an incredible strong concept that makes Grasshopper different to almost all other node based programming interfaces.
- **Use data trees.** I know they seem intimidating in the first place but yet they are the full power of Grasshopper. Without data trees Grasshopper would be a little playground for parametrism but thanks to the brilliant concept of the branch system Grasshopper evolves to a powerful machine. The ability to structure your inputs and automatically accordingly repeat them, gives this program an incredible scalability. So don't test your component for items and lists but see if you can scale it up to data trees on other data trees. Most of the time you will realize that the original information of the structure is lost or simplified and you need to find a way to recreate the proper tree structure. Because most of the information is not stored in the values itself but rather in the position and the values of the data trees. So if you loose information about the tree structure your correct values are worthless because you can not keep on working with them.
- **Use methods.** I know it might seem weird to do that because the script components are conceptually there to act as one big method with inputs and outputs. So why make your life harder and start to split up your big method into smaller ones? Well as spoken earlier the power of Grasshopper lies in the ability to reuse code and automate repetition. The same will apply for your scripts. If you split them up into methods you will be able to use these methods in other components. And the side effect is that your code get's easier to debug and document. This is beneficial if you share your code or want to improve it later. Your ability to abstract will rise and if you have a lot of methods this indicates that you should maybe split the script components into several smaller ones.
- **Start input and output parameters with a capital letters.** This doesn't only look good but it mainly helps to distinguish between variables inside and outside the component. Especially if you use GH_Python components then the input and output parameters act as global variables. Therefore it will not be possible to define a variable inside a method with the same name again. The reason why you chose that name is exactly because it is descriptive. You would be forced to use a different name. But if you use the same name in lowercase to call the methods the code is instantly understandable. In combination with methods this will make it easy to translate the component into a plugin later on.
- **Choose descriptive but abstract input parameters names.** By abstract I mean that you should always try to describe geometric inputs purely geometrically and numeric values purely numerically. It might seem obvious but often we tend to forget that because when we build a script we have a special purpose most of time. We already think of material and construction. Try to abstract as most as you can without getting to abstract like "Data".
- **Document your code and the component.** After writing a lot of scripts in the past years I wished to have started earlier with it. Sadly it didn't build up this habit as much as I would like. Documenting methods, adding descriptions to variables and the component is vital for other people to be able to use it. It can be enough to not look for 2 weeks and no longer understand what were your intentions in doing something. The time you spend to decode your own code would have been better invested in documenting it in the first place.

Hopefully my guidelines were useful for you and you could learn something new. Most things are well known but I wanted to highlight the importance of some aspects and relate them to Grasshopper. While most coding principles apply to coding scripts there are nevertheless some differences when it comes to the dynamic of the coding process itself.
If you think differently or your think that I forgot something feel free to contact me([Ueli])!

[RhinoCommon]: https://developer.rhino3d.com/api/RhinoCommon/html/R_Project_RhinoCommon.htm "RhinoCommon API"
[Ueli]: usaluz@outlook.de "Email Ueli"
